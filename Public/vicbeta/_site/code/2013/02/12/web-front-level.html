<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>Vic - 前端优化之路</title>
    <link rel="stylesheet" href="/themes/vdouban/style.css" />
</head>
<body>
    <div class="wrap clearfix">
        <div class="header clearfix">
            <a href="javascript:void(0);" class="logo">vic</a>
            <p class="desc">要小清新，不要技术宅</p>
            <ul class="nav clearfix">
            
                <li>
                    <a href="/">首页</a>
                </li>
            
                <li>
                    <a href="/code">扣德</a>
                </li>
            
                <li>
                    <a href="/travel">足迹</a>
                </li>
            
                <li>
                    <a href="/misc">杂谈</a>
                </li>
            
                <li>
                    <a href="/about">关于</a>
                </li>
            
            </ul>
        </div>
        <div class="detail">
            <a href="/" class="back">返回</a>
            <div class="article">
                <h1>前端优化之路</h1>

<p>据《web前端性能优化进阶路》一文，前端优化分有三个阶段：初探期、立规期、创新期。</p>

<pre><code>初探期，大多刚入门，缺乏大型前端项目经验。</code></pre>

<p>优化方法可依照雅虎性能优化原则、PageSpeed评分等一条条对应优化，能使页面的前端代码有较好的系统规范，有效避免加载阻塞、请求过多等问题。值得注意的一些地方，CSS sprite所得的图片不宜过大，不论什么格式，最终最好不要超过35k，关键显示的位置不宜合并在大型sprite图片中，可单独合并一张图片，相反小的icon等不重要元素则可以合并在整个一张大图上。</p>

<pre><code>立规期，维护代码稳定，增强扩展性，使代码结构有条不紊。</code></pre>

<p>对于不利于代码维护的业务代码能规范则规范，不能规范要学会拒绝，不能拒绝的最好写在分离的脚本中，逻辑代码和业务代码分离。这个阶段值得注意的地方，Javascript脚本代码不适合存储数据类型的东西，如页面中的首页新闻标题、top列表等，原因，Javascript存在缓存，更新时间戳使它不适合发布数据，频繁改动容易出差错，在外网表现为脚本报错，脚本未更新等问题，解决方法，把数据抽离在json文件中、或者用变量的形式写在html页面中，json本是一种跨平台数据格式，用来存储数据理所当然，而因为页面每次都会重新请求，不会有脚本的缓存问题，所以页面中写的数据，接入发布系统也会比较好管理内容。</p>

<pre><code>创新期，利用前端框架管理模块，控制页面加载和表现。</code></pre>

<p>在AMD前端框架中，有效管理了脚本的依赖加载和模块化，依赖加载的好处是不会在页面载入前期加载一堆脚本造成下载速度的拥堵，模块化的加载也可以把图片多而重要的模块优先加载，避免同一个域名请求数上限造成的下载拥堵。AMD框架的缺点，本身有一定的复杂性，不适合小型项目，不够轻量级，对于模块结构划分不清晰的话，扩展性的驾驭有一定问题。</p>

<p>为更好的进行创新期的工作，接下来还需要一个前端框架，区分开UI和交互，优先UI模块，然后事件交互脚本的载入，最后事件触发载入（如滚动到第二屏再加载第二屏内容），最大限度的减少首次进入的请求数和请求文件大小。框架需要扩展性强，并且足够轻量。</p>

<p>页面加载的响应速度主要体现在首次加载中，控制好首次加载的请求，优先加载第一屏UI显示，能有效减少用户的等待体验。</p>

<p>参考资料：<a href="http://www.aliued.cn/2013/01/20/web%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E8%BF%9B%E9%98%B6%E8%B7%AF.html" target="_blank">《web前端性能优化进阶路》</a></p>
<blockquote>
    <p>12 Feb 2013</p>
</blockquote>
            </div>
            <a href="/code/2013/02/19/css-plugin-install.html" class="next">
                CSSCheckStyle install
            </a>
            <a href="/code/2013/01/08/collect-plugin.html" class="prev">
                几款方便插件
            </a>
        </div>
        <div class="footer">
            LongZhou's Blog&copy;2012 By Vic
        </div>
    </div>
    <script src="/js/prettify.js"></script>
    <script src="/js/echo.min.js"></script>
    <script>
        prettyPrint();
        
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?dcfa320f3848c24822c7ca668c9467b6";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</body>
</html>
